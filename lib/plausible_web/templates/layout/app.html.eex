<!DOCTYPE html>
<html lang="en" class="h-full">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="icon" type="image/png" sizes="32x32" href="<%= PlausibleWeb.Router.Helpers.static_path(@conn, "/images/icon/32x32.png") %>">
    <link rel="icon" type="image/png" sizes="16x16" href="<%= PlausibleWeb.Router.Helpers.static_path(@conn, "/images/icon/16x16.png") %>">
    <title><%= assigns[:title] || "Plausible Â· Web analytics" %></title>
    <link rel="stylesheet" href="<%= Routes.static_path(@conn, "/css/app.css") %>"/>
  </head>
  <%= render("_tracking.html") %>
  <body class="flex flex-col h-full bg-grey-lightest">
    <div class="<%= if !@conn.assigns[:landing_nav] do "border-b-2 border-grey-lighter bg-white" end %>">
      <nav class="mx-auto container flex items-center justify-between flex-wrap py-6">
        <div class="flex items-center flex-no-shrink">
          <%= img_tag(PlausibleWeb.Router.Helpers.static_path(@conn, "/images/icon/48x48.png"), style: "height: 28px; margin-right: 6px;") %>
          <a href="/" class="logo-text">Plausible</a>
        </div>
        <%= cond do %>
          <% Plug.Conn.get_session(@conn, :current_user_email) -> %>
            <ul class="list-reset flex">
              <li class="mr-6">
               <%= link("My sites", to: "/") %>
              </li>
              <li class="mr-6">
               <%= button("Logout", to: "/logout", method: :post) %>
              </li>
            </ul>
          <% true -> %>
            <ul class="list-reset flex">
              <li class="mr-6">
               <%= link("Login", to: "/login", class: "text-indigo font-bold text-sm py-2", style: "line-height: 33px;") %>
              </li>
              <li class="mr-6">
               <%= link("Sign up free", to: "/onboarding", class: "button button-outline py-2 px-4 text-sm") %>
              </li>
            </ul>
        <% end %>
      </nav>
    </div>
    <main class="flex-1">
      <%= render @view_module, @view_template, assigns %>
    </main>
    <%= render("_footer.html", assigns) %>
    <script type="text/javascript" src="<%= Routes.static_path(@conn, "/js/app.js") %>"></script>
  </body>
</html>
